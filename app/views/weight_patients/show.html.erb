<%# encoding: UTF-8 %>
<% content_for :hide_navbar, true %>
<div class="container-fluid p-0 bg-light min-vh-100">
  <div class="mx-auto bg-white shadow" style="max-width: 448px;">

    <div class="d-flex flex-column min-vh-100">

      <!-- Header -->
      <header class="p-4 position-relative bg-white border-bottom">
        <%= link_to weight_patients_path, class: "position-absolute start-0 top-0 mt-4 ms-3 text-dark text-decoration-none" do %>
          <i class="bi bi-arrow-left fs-4"></i>
        <% end %>
        <h1 class="fs-5 fw-semibold text-dark text-center mb-0">Detalle de Peso</h1>
      </header>

      <!-- Main Content -->
      <main class="flex-grow-1 px-4 py-4">

        <!-- Weight Card -->
        <div class="bg-white border rounded-4 p-4 text-center mb-4 shadow-sm">
          <div class="mb-3">
            <i class="bi bi-speedometer2 text-primary" style="font-size: 3rem;"></i>
          </div>
          <h2 class="display-4 fw-bold text-dark mb-2">
            <%= @weight_patient.weight %> <span class="fs-3 text-secondary">kg</span>
          </h2>
          <p class="text-secondary mb-0">
            <i class="bi bi-calendar3 me-1"></i>
            <%= l(@weight_patient.date, format: :long) %>
          </p>
        </div>

        <!-- Info Card -->
        <div class="bg-light rounded-3 p-4 mb-4">
          <h3 class="fs-6 fw-semibold text-dark mb-3">Información del Registro</h3>
          <div class="d-flex flex-column gap-2 small">
            <div class="d-flex justify-content-between">
              <span class="text-secondary">Registrado el:</span>
              <span class="fw-medium text-dark"><%= l(@weight_patient.created_at, format: :short) %></span>
            </div>
            <% if @weight_patient.updated_at != @weight_patient.created_at %>
              <div class="d-flex justify-content-between">
                <span class="text-secondary">Última actualización:</span>
                <span class="fw-medium text-dark"><%= l(@weight_patient.updated_at, format: :short) %></span>
              </div>
            <% end %>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="d-flex flex-column gap-3">
          <%= link_to edit_weight_patient_path(@weight_patient), class: "btn btn-outline-dark w-100 py-2 rounded-3 fw-medium" do %>
            <i class="bi bi-pencil me-2"></i>
            Editar Registro
          <% end %>

          <%= button_to weight_patient_path(@weight_patient),
              method: :delete,
              data: { turbo_confirm: "¿Estás seguro de eliminar este registro de peso?" },
              class: "btn btn-outline-danger w-100 py-2 rounded-3 fw-medium" do %>
            <i class="bi bi-trash me-2"></i>
            Eliminar Registro
          <% end %>
        </div>

      </main>

    </div>

  </div>
</div>
