<h1>Pacientes</h1>

<p><%= link_to "Nuevo Paciente", new_patient_path %></p>

<% if @patients.any? %>
  <table border="1" cellspacing="0" cellpadding="5">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Email</th>
        <th>Teléfono</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <% @patients.each do |patient| %>
        <tr>
          <td><%= patient.first_name || "Sin nombre" %> <%= patient.last_name %></td>
          <td><%= patient.email %></td>
          <td><%= patient.phone || "-" %></td>
          <td>
            <%= link_to "Ver", patient_path(patient) %> |
            <%= link_to "Editar", edit_patient_path(patient) %> |
            <%= link_to "Eliminar", patient_path(patient),
                  data: { turbo_method: :delete, turbo_confirm: "¿Seguro?" } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No hay pacientes registrados.</p>
<% end %>
