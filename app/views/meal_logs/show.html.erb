<%# encoding: UTF-8 %>
<% content_for :hide_navbar, true %>
<div class="container-fluid p-0 bg-light min-vh-100">
  <div class="mx-auto bg-white shadow" style="max-width: 448px;">

    <div class="d-flex flex-column min-vh-100">

      <!-- Header -->
      <header class="p-4 position-relative bg-white">
        <%= link_to "#", class: "position-absolute start-0 top-0 mt-4 ms-3 text-dark text-decoration-none" do %>
          <i class="bi bi-arrow-left fs-4"></i>
        <% end %>
        <h1 class="fs-5 fw-semibold text-dark text-center mb-0">An√°lisis de tu comida</h1>
      </header>

      <!-- Main Content -->
      <main class="flex-grow-1 px-4 pb-4">

        <!-- Image Section with Action Buttons -->
        <div class="position-relative rounded-4 overflow-hidden mb-4">
          <%= image_tag "https://lh3.googleusercontent.com/aida-public/AB6AXuAdLYYsnmWGnAsTdH7GGPbxMldoKczrc_08P-fwhpmII9XTB18kOmlxBSuW4gCGV4inGxjsHmYiLgIs0tZ-qumDTYKKaIw5EGoxmNNbB2ukDU_PKwsLzsdRB1ciyocGM_an60vq4qqk2O76Y_ihtnJkV5tkj1FVytcrVG4Myfegwf5w5e_gPtgxCnmC8NKY9PZqxr73NmZWBzgC8olkAmYL19fA0No8SXEhfJRUhJqoz2WJDxUa1UChLRvhH6ZYyX-6jyarVuT7vjs",
                      class: "w-100 object-fit-cover",
                      style: "height: 200px;",
                      alt: "Foto de ensalada saludable" %>
          <div class="position-absolute top-0 end-0 mt-2 me-2 d-flex gap-2">
            <button type="button" class="btn btn-white bg-white bg-opacity-75 rounded-circle p-2 shadow-sm border-0">
              <i class="bi bi-camera text-dark"></i>
            </button>
            <button type="button" class="btn btn-white bg-white bg-opacity-75 rounded-circle p-2 shadow-sm border-0">
              <i class="bi bi-pencil text-dark"></i>
            </button>
          </div>
        </div>

        <!-- Health Score & Calories Card -->
        <div class="bg-success bg-opacity-10 border border-success border-opacity-25 rounded-4 p-3 mb-3">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <p class="small text-success mb-1">Health Score</p>
              <p class="fs-2 fw-bold text-success mb-0">
                8.5<span class="fs-5 fw-medium text-success opacity-75">/10</span>
              </p>
            </div>
            <div class="text-end">
              <p class="small text-secondary mb-1">Calor√≠as Totales</p>
              <p class="fs-4 fw-bold text-dark mb-0">
                450 <span class="fs-6 fw-normal text-secondary">kcal</span>
              </p>
            </div>
          </div>
        </div>

        <!-- Macros Grid -->
        <div class="row g-2 mb-3">
          <div class="col-4">
            <div class="bg-light rounded-3 p-3 text-center">
              <p class="small text-secondary mb-1">Prote√≠na</p>
              <p class="fs-6 fw-semibold text-dark mb-0">25g</p>
            </div>
          </div>
          <div class="col-4">
            <div class="bg-light rounded-3 p-3 text-center">
              <p class="small text-secondary mb-1">Grasa</p>
              <p class="fs-6 fw-semibold text-dark mb-0">18g</p>
            </div>
          </div>
          <div class="col-4">
            <div class="bg-light rounded-3 p-3 text-center">
              <p class="small text-secondary mb-1">Carbs</p>
              <p class="fs-6 fw-semibold text-dark mb-0">45g</p>
            </div>
          </div>
        </div>

        <!-- Feedback Box -->
        <div class="bg-light rounded-3 p-3 mb-3">
          <p class="small text-secondary mb-0 lh-base">
            Buena fuente de energ√≠a üëå y porci√≥n equilibrada de carbohidratos. Agregar una prote√≠na magra o vegetales le dar√≠a m√°s saciedad y balance üåø. Vas muy bien, ¬°cada elecci√≥n cuenta! üí™
          </p>
        </div>

        <!-- Comparison Card -->
        <div class="bg-white border rounded-4 p-3 mb-3">
          <h3 class="fs-6 fw-semibold text-dark mb-3 d-flex align-items-center gap-2">
            <i class="bi bi-arrow-left-right text-success"></i>
            Comparaci√≥n con tu plan
          </h3>
          <div class="d-flex flex-column gap-2 small">
            <div class="d-flex justify-content-between align-items-center">
              <span class="text-secondary">Calor√≠as:</span>
              <span class="fw-medium text-warning">+120 kcal sobre el plan</span>
            </div>
            <div class="d-flex justify-content-between align-items-center">
              <span class="text-secondary">Prote√≠nas:</span>
              <span class="fw-medium text-danger">-10 g</span>
            </div>
            <div class="d-flex justify-content-between align-items-center">
              <span class="text-secondary">Carbohidratos:</span>
              <span class="fw-medium text-warning">+25 g</span>
            </div>
            <div class="d-flex justify-content-between align-items-center">
              <span class="text-secondary">Grasas:</span>
              <span class="fw-medium text-success">Dentro del rango</span>
            </div>
          </div>
        </div>

        <!-- Ingredients Analysis Card -->
        <div class="bg-white border rounded-4 p-3 mb-3">
          <h3 class="fs-6 fw-semibold text-dark mb-2 d-flex align-items-center gap-2">
            <i class="bi bi-basket text-success"></i>
            An√°lisis de ingredientes
          </h3>
          <p class="small text-secondary mb-0 lh-base">
            Buen equilibrio entre fuentes naturales. Usaste ingredientes frescos y simples, aunque podr√≠as sumar algo de color con vegetales o legumbres.
          </p>
        </div>

        <!-- Suggestions Card -->
        <div class="bg-white border rounded-4 p-3 mb-4">
          <h3 class="fs-6 fw-semibold text-dark mb-2 d-flex align-items-center gap-2">
            <i class="bi bi-lightbulb text-success"></i>
            Sugerencias para mejorar
          </h3>
          <p class="small text-secondary mb-0 lh-base">
            Vas muy bien. Para el pr√≥ximo plato, intenta incluir una porci√≥n de prote√≠na magra o verduras al vapor ‚Äî peque√±os ajustes que suman mucho.
          </p>
        </div>

      </main>

      <!-- Sticky Footer Button -->
      <footer class="sticky-bottom bg-white border-top p-3">
        <button type="submit" class="btn btn-dark w-100 py-2 rounded-3 fw-semibold shadow-sm">
          Registrar Almuerzo
        </button>
      </footer>

    </div>

  </div>
</div>
